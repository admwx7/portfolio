<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">

<dom-module id="am-flyout-icon">
  <template>
    <style>
      :host {
        position: relative;
        padding-top: calc(var(--padding) / 2);
        padding-bottom: calc(var(--padding) / 2);
        z-index: 1;
      }
      a {
        color: var(--text-color);
      }
      #icon {
        height: 36px;
        width: 36px;
        z-index: 1;
        cursor: pointer;
        filter: drop-shadow(0 0 2px var(--dark-primary-color));
      }
      #icon:hover {
        filter: drop-shadow(0 0 4px var(--dark-primary-color));
      }
      #flyout {
        white-space: nowrap;
        position: absolute;
        opacity: 0;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
        z-index: 0;
        text-align: right;
        padding: 4px;
      }
      #flyout ::slotted(*) {
        margin: 0;
        padding: 0;
        text-shadow: 0 0 8px var(--dark-primary-color);
      }
      #icon:not(:hover) ~ #flyout {
        overflow: hidden;
        width: 0;
        transition:
          right 0.5s ease-in-out 0s,
          opacity 0.25s ease-in-out 0s,
          width 0s ease-in-out 0.25s;
      }
      #icon:hover ~ #flyout {
        width: 300px;
        opacity: 1;
        right: calc(100% + var(--padding));
        transition:
          right 0.5s ease-in-out 0s,
          opacity 0.25s ease-in-out 0.25s;
      }
    </style>

    <a href$="[[href]]">
      <iron-icon id="icon"
        icon="[[icon]]"
      ></iron-icon>
      <div id="flyout">
        <slot></slot>
      </div>
    </a>
  </template>
  <script>
    /**
     * `am-flyout-icon` a card for displaying a way to contact me: twitter, linkedin, github, ...
     *
     * @customElement
     * @polymer
     * @extends Polymer.Element
     */
    class AmFlyoutIcon extends Polymer.Element {
      // eslint-disable-next-line require-jsdoc
      static get is() {
        return 'am-flyout-icon';
      }
      // eslint-disable-next-line require-jsdoc
      static get properties() {
        return {
          icon: String,
          href: String,
        };
      }
    }

    window.customElements.define(AmFlyoutIcon.is, AmFlyoutIcon);
  </script>
</dom-module>
